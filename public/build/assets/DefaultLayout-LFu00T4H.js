import{u as K,a as X,z as Y,b as Z,A as q,c as p,r as B,o as ee,B as te,C as se,g as f,f as o,w as e,h as t,D as ae,i as r,e as v,j as w,E as V,F as P,G as b,p as l,n as k,t as n,H as D,I as S,J as I,K as T,L as ie,M as _,N as le,O as oe,P as L,s as M,v as re,Q as ne,R as ue,S as de,T as ce,m as me,U as j,W as pe,X as F,Y as fe,Z as C,_ as ve,$ as _e,x as ge,a0 as ye,a1 as we}from"./app-CJq9zEpr.js";import{u as be}from"./appSettings-DlaUMDbI.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={class:"pa-4 d-flex align-center justify-space-between"},Ve={key:0,class:"d-flex align-center"},ke={key:0,class:"logo-wrapper mr-3"},Se=["src","alt"],Ce={key:0,class:"pa-4"},Ae={class:"d-flex align-center"},De={class:"text-h6"},Ie={class:"flex-grow-1"},Ne={class:"text-subtitle-2 font-weight-bold"},ze={class:"pa-4"},Be={class:"text-h6 font-weight-bold"},Pe={class:"text-subtitle-2"},Te={class:"text-left d-none d-sm-block"},Le={class:"text-subtitle-2"},Me={class:"text-caption text-grey"},Ue={__name:"DefaultLayout",setup(Oe){K(i=>({v1eefc132:V(m).primaryColor,v14d864f3:V(m).settings.secondary_color}));const E=X(),N=Y(),c=Z(),m=be(),{smAndDown:G}=q(),g=p(()=>G.value),h=B(!0),u=B(!1),U=B(""),y=p(()=>c.user),O=p(()=>{var i;return(i=y.value)!=null&&i.name?y.value.name.split(" ").map(s=>s[0]).join("").toUpperCase().substring(0,2):"U"}),R=p(()=>c.roles&&c.roles.length>0?c.roles[0]:"User"),z=[{title:"Main",items:[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/dashboard",permission:null},{title:"POS",icon:"mdi-cash-register",to:"/pos",permission:"create_sales",badge:"New",badgeColor:"success"}]},{title:"Sales & Orders",items:[{title:"Sales",icon:"mdi-cart",to:"/sales",permission:"view_sales"},{title:"Orders",icon:"mdi-clipboard-list",to:"/orders",permission:"view_orders"},{title:"Customers",icon:"mdi-account-group",to:"/customers",permission:"view_customers"}]},{title:"Inventory",items:[{title:"Products",icon:"mdi-package-variant",to:"/products",permission:"view_products"},{title:"Inventory",icon:"mdi-warehouse",to:"/inventory",permission:"view_inventory"},{title:"Categories",icon:"mdi-tag-multiple",to:"/categories",permission:"view_product_categories"},{title:"Units",icon:"mdi-ruler",to:"/units",permission:"view_units"}]},{title:"Procurement",items:[{title:"Purchase Orders",icon:"mdi-file-document",to:"/purchase-orders",permission:"view_purchase_orders"},{title:"Suppliers",icon:"mdi-truck",to:"/suppliers",permission:"view_suppliers"}]},{title:"Finance",items:[{title:"Debtors",icon:"mdi-account-cash",to:"/debtors",permission:"view_debtors"},{title:"Wallet",icon:"mdi-wallet",to:"/wallet",permission:"view_wallet_transactions"},{title:"Reports",icon:"mdi-chart-bar",to:"/reports",permission:"view_reports"}]},{title:"Analytics",items:[{title:"Profit Margin",icon:"mdi-chart-line",to:"/analytics/profit-margin",permission:"view_reports"}]},{title:"Settings",items:[{title:"Users",icon:"mdi-account-multiple",to:"/users",permission:"view_users"},{title:"Branches",icon:"mdi-office-building",to:"/branches",permission:"view_branches"},{title:"Stores",icon:"mdi-store",to:"/stores",permission:"view_stores"},{title:"Payment Gateways",icon:"mdi-credit-card-settings",to:"/payment-gateways",superAdminOnly:!0},{title:"App Settings",icon:"mdi-cog",to:"/app-settings",superAdminOnly:!0}]}],H=p(()=>z.map(i=>({...i,items:i.items.filter(s=>s.superAdminOnly&&!c.isSuperAdmin?!1:s.permission?c.hasPermission(s.permission):!0)})).filter(i=>i.items.length>0)),Q=p(()=>{for(const i of z){const s=i.items.find(x=>x.to===N.path);if(s)return s.icon}return"mdi-view-dashboard"}),$=p(()=>{for(const i of z){const s=i.items.find(x=>x.to===N.path);if(s)return s.title}return"Dashboard"}),W=i=>N.path===i,J=async()=>{await c.logout(),E.push("/login")};return ee(async()=>{await m.loadSettings(),m.updateDocumentTitle($.value)}),te(g,i=>{i&&(u.value=!1,h.value=!1)}),(i,s)=>{const x=se("router-view");return o(),f(we,null,{default:e(()=>[t(ae,{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=a=>h.value=a),app:"",rail:u.value&&!g.value,permanent:!g.value,temporary:g.value,class:"sidebar-gradient",width:280},{append:e(()=>[r("div",ze,[u.value?w("",!0):(o(),f(k,{key:0,block:"",color:"white",variant:"outlined","prepend-icon":"mdi-help-circle",size:"small"},{default:e(()=>[...s[5]||(s[5]=[l(" Help & Support ",-1)])]),_:1}))])]),default:e(()=>[r("div",xe,[u.value?w("",!0):(o(),v("div",Ve,[V(m).logoUrl?(o(),v("div",ke,[r("img",{src:V(m).logoUrl,alt:V(m).appName,class:"sidebar-logo-img"},null,8,Se)])):(o(),f(P,{key:1,color:"white",size:"48",class:"mr-3"},{default:e(()=>[t(b,{color:"primary",size:"28"},{default:e(()=>[...s[4]||(s[4]=[l("mdi-package-variant",-1)])]),_:1})]),_:1}))])),g.value?w("",!0):(o(),f(k,{key:1,icon:"",size:"small",variant:"text",onClick:s[0]||(s[0]=a=>u.value=!u.value),class:"ml-auto"},{default:e(()=>[t(b,{color:"white"},{default:e(()=>[l(n(u.value?"mdi-menu":"mdi-menu-open"),1)]),_:1})]),_:1}))]),t(D,{class:"border-opacity-25"}),t(S,{density:"compact",nav:"",class:"px-2"},{default:e(()=>[(o(!0),v(I,null,T(H.value,(a,A)=>(o(),v(I,{key:A},[!u.value&&a.title?(o(),f(ie,{key:0,class:"text-grey-lighten-1 text-uppercase text-caption font-weight-bold mt-2"},{default:e(()=>[l(n(a.title),1)]),_:2},1024)):w("",!0),(o(!0),v(I,null,T(a.items,d=>(o(),f(_,{key:d.title,to:d.to,"prepend-icon":d.icon,title:d.title,rounded:"lg",class:le(["mb-1 menu-item",{"active-menu-item":W(d.to)}])},oe({_:2},[d.badge&&!u.value?{name:"append",fn:e(()=>[t(L,{size:"x-small",color:d.badgeColor||"error",variant:"flat"},{default:e(()=>[l(n(d.badge),1)]),_:2},1032,["color"])]),key:"0"}:void 0]),1032,["to","prepend-icon","title","class"]))),128))],64))),128))]),_:1}),u.value?w("",!0):(o(),v("div",Ce,[t(M,{class:"user-card",elevation:"0"},{default:e(()=>[t(re,{class:"pa-3"},{default:e(()=>{var a;return[r("div",Ae,[t(P,{color:"primary",size:"48",class:"mr-3"},{default:e(()=>[r("span",De,n(O.value),1)]),_:1}),r("div",Ie,[r("div",Ne,n((a=y.value)==null?void 0:a.name),1),t(L,{size:"x-small",color:"success",variant:"flat",class:"mt-1"},{default:e(()=>[l(n(R.value),1)]),_:1})])])]}),_:1})]),_:1})]))]),_:1},8,["modelValue","rail","permanent","temporary"]),t(ne,{app:"",elevation:"0",class:"app-bar-glass",height:"70"},{default:e(()=>[g.value?(o(),f(ue,{key:0,onClick:s[2]||(s[2]=a=>h.value=!h.value)})):w("",!0),t(de,{class:"d-flex align-center"},{default:e(()=>[t(b,{class:"mr-2",color:"primary"},{default:e(()=>[l(n(Q.value),1)]),_:1}),r("span",Be,n($.value),1)]),_:1}),t(ce),t(me,{modelValue:U.value,"onUpdate:modelValue":s[3]||(s[3]=a=>U.value=a),"prepend-inner-icon":"mdi-magnify",placeholder:"Search anything...",variant:"solo",density:"compact","hide-details":"",class:"search-field mr-4",style:{"max-width":"400px"}},null,8,["modelValue"]),t(k,{icon:"",variant:"text",class:"mr-2"},{default:e(()=>[t(b,null,{default:e(()=>[...s[6]||(s[6]=[l("mdi-apps",-1)])]),_:1})]),_:1}),t(j,{"offset-y":""},{activator:e(({props:a})=>[t(k,F({icon:"",variant:"text"},a,{class:"mr-2"}),{default:e(()=>[t(fe,{color:"error",content:"3","offset-x":"10","offset-y":"10"},{default:e(()=>[t(b,null,{default:e(()=>[...s[7]||(s[7]=[l("mdi-bell",-1)])]),_:1})]),_:1})]),_:1},16)]),default:e(()=>[t(M,{"min-width":"350","max-width":"400"},{default:e(()=>[t(pe,{class:"d-flex align-center justify-space-between"},{default:e(()=>[s[9]||(s[9]=r("span",null,"Notifications",-1)),t(L,{size:"small",color:"primary"},{default:e(()=>[...s[8]||(s[8]=[l("3 New",-1)])]),_:1})]),_:1}),t(D),t(S,null,{default:e(()=>[(o(),v(I,null,T(3,a=>t(_,{key:a,title:`Notification ${a}`,subtitle:`This is notification message ${a}`,"prepend-icon":"mdi-information"},null,8,["title","subtitle"])),64))]),_:1})]),_:1})]),_:1}),t(j,{"offset-y":""},{activator:e(({props:a})=>[t(k,F({variant:"text"},a,{class:"user-menu-btn"}),{default:e(()=>{var A;return[t(P,{color:"primary",size:"36",class:"mr-2"},{default:e(()=>[r("span",Pe,n(O.value),1)]),_:1}),r("div",Te,[r("div",Le,n((A=y.value)==null?void 0:A.name),1),r("div",Me,n(R.value),1)]),t(b,{class:"ml-2"},{default:e(()=>[...s[10]||(s[10]=[l("mdi-chevron-down",-1)])]),_:1})]}),_:1},16)]),default:e(()=>[t(M,{"min-width":"250"},{default:e(()=>[t(S,null,{default:e(()=>[t(_,null,{default:e(()=>[t(C,{class:"font-weight-bold"},{default:e(()=>{var a;return[l(n((a=y.value)==null?void 0:a.name),1)]}),_:1}),t(ve,null,{default:e(()=>{var a;return[l(n((a=y.value)==null?void 0:a.email),1)]}),_:1})]),_:1})]),_:1}),t(D),t(S,{density:"compact"},{default:e(()=>[t(_,{to:"/profile","prepend-icon":"mdi-account"},{default:e(()=>[t(C,null,{default:e(()=>[...s[11]||(s[11]=[l("My Profile",-1)])]),_:1})]),_:1}),t(_,{"prepend-icon":"mdi-cog"},{default:e(()=>[t(C,null,{default:e(()=>[...s[12]||(s[12]=[l("Settings",-1)])]),_:1})]),_:1}),t(_,{"prepend-icon":"mdi-theme-light-dark"},{default:e(()=>[t(C,null,{default:e(()=>[...s[13]||(s[13]=[l("Dark Mode",-1)])]),_:1})]),_:1})]),_:1}),t(D),t(S,{density:"compact"},{default:e(()=>[t(_,{onClick:J,"prepend-icon":"mdi-logout",class:"text-error"},{default:e(()=>[t(C,null,{default:e(()=>[...s[14]||(s[14]=[l("Logout",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(_e,{class:"main-content"},{default:e(()=>[t(ge,{fluid:"",class:"pa-6"},{default:e(()=>[t(ye,{name:"fade",mode:"out-in"},{default:e(()=>[t(x)]),_:1})]),_:1})]),_:1})]),_:1})}}},Fe=he(Ue,[["__scopeId","data-v-85b416bc"]]);export{Fe as default};
