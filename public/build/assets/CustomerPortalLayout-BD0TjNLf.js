import{a as U,z as W,b as j,r as b,c as x,o as $,C as E,g as I,f as c,w as e,h as t,D as G,i as o,e as V,j as y,F as z,G as d,p as n,n as m,t as r,H as h,s as S,v as O,I as f,J as R,K as H,M as p,N as J,Q as K,S as Q,T as X,P as Z,U as q,Z as v,E as C,_ as Y,X as tt,$ as et,x as at,a0 as st,a1 as lt,a2 as ot}from"./app-BU2Ar5cD.js";import{_ as nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const rt={class:"pa-4 d-flex align-center justify-space-between"},it={key:0,class:"d-flex align-center"},ut={key:0,class:"pa-4"},dt={class:"text-h5 font-weight-bold"},ct={class:"pa-4"},pt={class:"text-h6 font-weight-bold"},mt={class:"font-weight-bold"},ft={class:"text-subtitle-2"},vt={class:"text-left d-none d-sm-block"},_t={class:"text-subtitle-2"},gt={__name:"CustomerPortalLayout",setup(wt){const L=U(),_=W(),i=j(),k=b(!0),u=b(!1),g=b("0"),N=x(()=>{var s;return(s=i.user)!=null&&s.name?i.user.name.split(" ").map(a=>a[0]).join("").toUpperCase().substring(0,2):"U"}),w=[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/customer-portal"},{title:"Place Order",icon:"mdi-cart-plus",to:"/customer-portal/place-order"},{title:"My Orders",icon:"mdi-package-variant",to:"/customer-portal/orders"},{title:"Wallet",icon:"mdi-wallet",to:"/customer-portal/wallet"}],P=x(()=>{const s=w.find(a=>a.to===_.path);return(s==null?void 0:s.icon)||"mdi-view-dashboard"}),T=x(()=>{const s=w.find(a=>a.to===_.path);return(s==null?void 0:s.title)||"Dashboard"}),A=s=>_.path===s,D=async()=>{await i.logout(),L.push("/login")},M=async()=>{try{const s=await ot.get(`/api/wallet/customers/${i.user.id}/balance`);g.value=new Intl.NumberFormat("en-NG").format(s.data.balance)}catch(s){console.error("Failed to load wallet balance:",s)}};return $(()=>{M()}),(s,a)=>{const F=E("router-view");return c(),I(lt,null,{default:e(()=>[t(G,{modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=l=>k.value=l),app:"",rail:u.value,permanent:"",class:"customer-sidebar-gradient",width:280},{append:e(()=>[o("div",ct,[u.value?y("",!0):(c(),I(m,{key:0,block:"",color:"white",variant:"outlined","prepend-icon":"mdi-headset",size:"small"},{default:e(()=>[...a[7]||(a[7]=[n(" Contact Support ",-1)])]),_:1}))])]),default:e(()=>[o("div",rt,[u.value?y("",!0):(c(),V("div",it,[t(z,{color:"white",size:"40",class:"mr-3"},{default:e(()=>[t(d,{color:"success",size:"24"},{default:e(()=>[...a[2]||(a[2]=[n("mdi-account-circle",-1)])]),_:1})]),_:1}),a[3]||(a[3]=o("div",null,[o("div",{class:"text-h6 font-weight-bold white--text"},"Customer Portal"),o("div",{class:"text-caption text-grey-lighten-1"},"Shop & Track")],-1))])),t(m,{icon:"",size:"small",variant:"text",onClick:a[0]||(a[0]=l=>u.value=!u.value),class:"ml-auto"},{default:e(()=>[t(d,{color:"white"},{default:e(()=>[n(r(u.value?"mdi-menu":"mdi-menu-open"),1)]),_:1})]),_:1})]),t(h,{class:"border-opacity-25"}),u.value?y("",!0):(c(),V("div",ut,[t(S,{class:"wallet-card",elevation:"0"},{default:e(()=>[t(O,{class:"pa-4"},{default:e(()=>[a[6]||(a[6]=o("div",{class:"text-caption text-grey-lighten-1 mb-1"},"Wallet Balance",-1)),o("div",dt,"₦"+r(g.value),1),t(m,{size:"small",color:"white",variant:"outlined",class:"mt-3",block:"",to:"/customer-portal/wallet"},{default:e(()=>[t(d,{left:"",size:"small"},{default:e(()=>[...a[4]||(a[4]=[n("mdi-plus",-1)])]),_:1}),a[5]||(a[5]=n(" Fund Wallet ",-1))]),_:1})]),_:1})]),_:1})])),t(f,{density:"compact",nav:"",class:"px-2"},{default:e(()=>[(c(),V(R,null,H(w,l=>t(p,{key:l.title,to:l.to,"prepend-icon":l.icon,title:l.title,rounded:"lg",class:J(["mb-1 menu-item",{"active-menu-item":A(l.to)}])},null,8,["to","prepend-icon","title","class"])),64))]),_:1})]),_:1},8,["modelValue","rail"]),t(K,{app:"",elevation:"0",class:"app-bar-glass",height:"70"},{default:e(()=>[t(Q,{class:"d-flex align-center"},{default:e(()=>[t(d,{class:"mr-2",color:"success"},{default:e(()=>[n(r(P.value),1)]),_:1}),o("span",pt,r(T.value),1)]),_:1}),t(X),t(Z,{color:"success",variant:"flat",class:"mr-4 px-4"},{default:e(()=>[t(d,{left:""},{default:e(()=>[...a[8]||(a[8]=[n("mdi-wallet",-1)])]),_:1}),o("span",mt,"₦"+r(g.value),1)]),_:1}),t(q,{"offset-y":""},{activator:e(({props:l})=>[t(m,tt({variant:"text"},l,{class:"user-menu-btn"}),{default:e(()=>{var B;return[t(z,{color:"success",size:"36",class:"mr-2"},{default:e(()=>[o("span",ft,r(N.value),1)]),_:1}),o("div",vt,[o("div",_t,r((B=C(i).user)==null?void 0:B.name),1),a[9]||(a[9]=o("div",{class:"text-caption text-grey"},"Customer",-1))]),t(d,{class:"ml-2"},{default:e(()=>[...a[10]||(a[10]=[n("mdi-chevron-down",-1)])]),_:1})]}),_:1},16)]),default:e(()=>[t(S,{"min-width":"250"},{default:e(()=>[t(f,null,{default:e(()=>[t(p,null,{default:e(()=>[t(v,{class:"font-weight-bold"},{default:e(()=>{var l;return[n(r((l=C(i).user)==null?void 0:l.name),1)]}),_:1}),t(Y,null,{default:e(()=>{var l;return[n(r((l=C(i).user)==null?void 0:l.email),1)]}),_:1})]),_:1})]),_:1}),t(h),t(f,{density:"compact"},{default:e(()=>[t(p,{"prepend-icon":"mdi-account"},{default:e(()=>[t(v,null,{default:e(()=>[...a[11]||(a[11]=[n("My Profile",-1)])]),_:1})]),_:1}),t(p,{"prepend-icon":"mdi-cog"},{default:e(()=>[t(v,null,{default:e(()=>[...a[12]||(a[12]=[n("Settings",-1)])]),_:1})]),_:1})]),_:1}),t(h),t(f,{density:"compact"},{default:e(()=>[t(p,{onClick:D,"prepend-icon":"mdi-logout",class:"text-error"},{default:e(()=>[t(v,null,{default:e(()=>[...a[13]||(a[13]=[n("Logout",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(et,{class:"customer-main-content"},{default:e(()=>[t(at,{fluid:"",class:"pa-6"},{default:e(()=>[t(st,{name:"fade",mode:"out-in"},{default:e(()=>[t(F)]),_:1})]),_:1})]),_:1})]),_:1})}}},Vt=nt(gt,[["__scopeId","data-v-e82b0bb3"]]);export{Vt as default};
